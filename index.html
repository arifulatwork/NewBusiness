<!doctype html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡¶™‡ßç‡¶∞‡¶¨‡¶æ‡¶∏ EU | ‡¶è‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ‡ßá ‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø ‚Ä¢ ‡¶¨‡¶æ‡¶∏‡¶æ ‚Ä¢ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‚Ä¢ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏</title>

  <!-- Bangla-friendly font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #070A12;
      --surface: rgba(255,255,255,.08);
      --surface2: rgba(255,255,255,.06);
      --surface3: rgba(0,0,0,.18);
      --stroke: rgba(255,255,255,.12);

      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.52);
      --placeholder: rgba(255,255,255,.45);

      --accent: #7C5CFF;
      --accent2:#00D1FF;
      --good:#2EE59D;
      --warn:#FFB020;
      --bad:#FF4D6D;

      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);

      --radius2: 28px;

      --bgGrad1: rgba(124,92,255,.25);
      --bgGrad2: rgba(0,209,255,.22);
      --bgGrad3: rgba(46,229,157,.16);

      --blob1a: rgba(124,92,255,.95);
      --blob1b: rgba(124,92,255,0);
      --blob2a: rgba(0,209,255,.9);
      --blob2b: rgba(0,209,255,0);
      --blob3a: rgba(46,229,157,.85);
      --blob3b: rgba(46,229,157,0);
    }

    html[data-theme="light"]{
      --bg: #F6F7FB;
      --surface: rgba(0,0,0,.04);
      --surface2: rgba(0,0,0,.03);
      --surface3: rgba(255,255,255,.75);
      --stroke: rgba(0,0,0,.10);

      --text: rgba(10,12,18,.92);
      --muted: rgba(10,12,18,.66);
      --muted2: rgba(10,12,18,.50);
      --placeholder: rgba(10,12,18,.40);

      --shadow: 0 18px 60px rgba(10,12,18,.12);
      --shadow2: 0 10px 28px rgba(10,12,18,.10);

      --bgGrad1: rgba(124,92,255,.14);
      --bgGrad2: rgba(0,209,255,.12);
      --bgGrad3: rgba(46,229,157,.10);

      --blob1a: rgba(124,92,255,.55);
      --blob1b: rgba(124,92,255,0);
      --blob2a: rgba(0,209,255,.50);
      --blob2b: rgba(0,209,255,0);
      --blob3a: rgba(46,229,157,.45);
      --blob3b: rgba(46,229,157,0);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Noto Sans Bengali", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 800px at 20% -10%, var(--bgGrad1), transparent 60%),
        radial-gradient(900px 700px at 90% 10%, var(--bgGrad2), transparent 55%),
        radial-gradient(1000px 900px at 40% 110%, var(--bgGrad3), transparent 60%),
        var(--bg);
      color: var(--text);
      overflow-x:hidden;
      transition: background-color .2s ease, color .2s ease;
    }

    .blob{
      position: fixed;
      width: 520px;
      height: 520px;
      border-radius: 999px;
      filter: blur(55px);
      opacity: .35;
      z-index: -1;
      transform: translate3d(0,0,0);
      animation: floaty 12s ease-in-out infinite;
      pointer-events:none;
    }
    .blob.b1{ left:-180px; top:-140px; background: radial-gradient(circle at 30% 30%, var(--blob1a), var(--blob1b)); }
    .blob.b2{ right:-220px; top:40px;  background: radial-gradient(circle at 40% 30%, var(--blob2a), var(--blob2b)); animation-duration: 15s; }
    .blob.b3{ left:20%; bottom:-220px; background: radial-gradient(circle at 40% 40%, var(--blob3a), var(--blob3b)); animation-duration: 18s; }

    @keyframes floaty{
      0%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(30px, -18px) scale(1.04); }
      100%{ transform: translate(0,0) scale(1); }
    }

    .app{
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 16px 120px;
    }

    .topbar{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      padding: 14px 14px;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border-radius: 28px;
      box-shadow: var(--shadow2);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 12px;
      z-index: 5;
    }
    html[data-theme="light"] .topbar{
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 240px;
      flex: 1 1 auto;
    }
    .logo{
      width: 42px;
      height: 42px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(124,92,255,1), rgba(0,209,255,1));
      box-shadow: 0 10px 26px rgba(124,92,255,.18);
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.20);
      flex:0 0 auto;
    }
    .logo svg{ opacity:.95 }
    .brand h1{
      font-size: 16px;
      margin: 0;
      line-height: 1.1;
      letter-spacing:.2px;
    }
    .brand small{
      display:block;
      margin-top: 2px;
      color: var(--muted);
      font-size: 12px;
    }

    .btn{
      appearance:none;
      border:1px solid var(--stroke);
      color: var(--text);
      background: var(--surface);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      gap:8px;
      font-weight: 800;
      font-size: 13px;
      user-select:none;
      white-space: nowrap;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.18); }
    html[data-theme="light"] .btn:hover{ background: rgba(0,0,0,.05); border-color: rgba(0,0,0,.14); }

    .btn.primary{
      background: linear-gradient(135deg, rgba(124,92,255,.95), rgba(0,209,255,.8));
      border-color: rgba(255,255,255,.22);
      color: rgba(255,255,255,.95);
    }
    .btn.primary:hover{ background: linear-gradient(135deg, rgba(124,92,255,1), rgba(0,209,255,.95)); }
    .btn svg{ width: 16px; height:16px; opacity:.9; }

    /* HERO now single column (side card removed) */
    .hero{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 16px;
      align-items: stretch;
    }

    .heroCard{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border-radius: 28px;
      padding: 18px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      position: relative;
      overflow:hidden;
    }
    html[data-theme="light"] .heroCard{
      background: linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,255,255,.62));
    }

    .heroCard:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(800px 220px at 20% 0%, rgba(124,92,255,.16), transparent 60%),
                  radial-gradient(700px 240px at 95% 10%, rgba(0,209,255,.12), transparent 55%);
      pointer-events:none;
    }
    .heroInner{ position: relative; z-index:1; }

    .heroTitle{
      margin:0;
      font-size: 26px;
      line-height:1.25;
      letter-spacing:.2px;
    }
    .heroSub{
      margin: 10px 0 16px;
      color: var(--muted);
      font-size: 14px;
      line-height:1.6;
      max-width: 62ch;
    }

    .searchRow{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items:center;
    }
    .search{
      flex: 1 1 320px;
      display:flex;
      align-items:center;
      gap:10px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: var(--surface3);
      backdrop-filter: blur(10px);
      min-width: min(520px, 100%);
    }
    .search input{
      width:100%;
      border:none;
      outline:none;
      background: transparent;
      color: var(--text);
      font-size: 14px;
    }
    .search input::placeholder{ color: var(--placeholder); }

    .chipRow{
      margin-top: 14px;
      display:flex;
      flex-wrap: wrap;
      gap:8px;
    }
    .chip{
      padding: 9px 11px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: var(--surface);
      color: var(--muted);
      font-size: 12.5px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease;
      user-select:none;
    }
    .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); }
    html[data-theme="light"] .chip:hover{ background: rgba(0,0,0,.05); }
    .chip.active{
      color: var(--text);
      background: linear-gradient(135deg, rgba(124,92,255,.22), rgba(0,209,255,.12));
      border-color: rgba(255,255,255,.20);
    }
    html[data-theme="light"] .chip.active{ border-color: rgba(0,0,0,.10); }

    .sectionTitle{
      margin: 22px 6px 10px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      flex-wrap: wrap;
    }
    .sectionTitle h2{
      margin:0;
      font-size: 16px;
      letter-spacing:.2px;
    }
    .sectionTitle p{
      margin:0;
      color: var(--muted);
      font-size: 12.5px;
    }
    .hint{ color: var(--muted); font-size: 12.5px; }

    .catGrid{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
    }
    .cat{
      border: 1px solid var(--stroke);
      background: var(--surface);
      border-radius: 22px;
      padding: 14px 12px;
      display:flex;
      gap:10px;
      align-items:center;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
      position:relative;
      overflow:hidden;
    }
    .cat:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.09);
      border-color: rgba(255,255,255,.18);
    }
    html[data-theme="light"] .cat:hover{
      background: rgba(0,0,0,.05);
      border-color: rgba(0,0,0,.14);
    }
    .catIcon{
      width:40px;height:40px;border-radius: 16px;
      background: linear-gradient(135deg, rgba(124,92,255,.38), rgba(0,209,255,.18));
      border: 1px solid rgba(255,255,255,.15);
      display:grid;
      place-items:center;
      flex:0 0 auto;
    }
    html[data-theme="light"] .catIcon{ border-color: rgba(0,0,0,.10); }
    .catText b{ display:block; font-size: 13.5px; }
    .catText span{ display:block; font-size: 11.5px; color: var(--muted); margin-top: 2px; }

    .bar{
      display:flex;
      gap:12px;
      flex-wrap: wrap;
      align-items:flex-start;
      justify-content:space-between;
      margin: 14px 0 8px;
      padding: 12px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: var(--surface2);
      backdrop-filter: blur(10px);
    }
    html[data-theme="light"] .bar{ background: rgba(255,255,255,.68); }
    .barLeft{
      display:flex;
      gap:12px;
      align-items:flex-start;
      flex-wrap: wrap;
      width: 100%;
      flex: 1 1 auto;
    }

    .sliderBlock{
      display:flex;
      flex-direction:column;
      gap:8px;
      min-width: 220px;
      flex: 1 1 220px;
    }
    .sliderLabel{
      font-size: 12px;
      color: var(--muted);
      font-weight: 900;
      letter-spacing:.2px;
      padding-left: 2px;
    }

    .pillRail{
      display:flex;
      gap:8px;
      padding: 8px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.14);
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    html[data-theme="light"] .pillRail{ background: rgba(0,0,0,.04); }
    .pillRail::-webkit-scrollbar{ display:none; }

    .pillBtn{
      white-space: nowrap;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: var(--surface);
      color: var(--muted);
      font-weight: 900;
      font-size: 12.5px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      user-select:none;
    }
    html[data-theme="light"] .pillBtn{ border-color: rgba(0,0,0,.10); }
    .pillBtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); }
    html[data-theme="light"] .pillBtn:hover{ background: rgba(0,0,0,.05); }
    .pillBtn.active{
      color: var(--text);
      background: linear-gradient(135deg, rgba(124,92,255,.22), rgba(0,209,255,.12));
      border-color: rgba(255,255,255,.22);
    }
    html[data-theme="light"] .pillBtn.active{ border-color: rgba(0,0,0,.12); }

    .seg{
      position:relative;
      display:flex;
      gap: 6px;
      padding: 6px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.14);
      overflow:hidden;
      width: 100%;
      min-width: 0;
    }
    html[data-theme="light"] .seg{ background: rgba(0,0,0,.04); }

    .segBtn{
      flex:1;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid transparent;
      background: transparent;
      color: var(--muted);
      cursor:pointer;
      font-weight: 900;
      font-size: 12.5px;
      position:relative;
      z-index:2;
      min-width: 0;
    }
    .segBtn:hover{ color: var(--text); }
    .segBtn.active{ color: var(--text); }

    .segIndicator{
      position:absolute;
      top: 6px;
      bottom: 6px;
      left: 6px;
      width: calc((100% - 12px - 12px)/3);
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(124,92,255,.22), rgba(0,209,255,.10));
      border: 1px solid rgba(255,255,255,.14);
      transition: transform .18s ease;
      z-index:1;
    }
    html[data-theme="light"] .segIndicator{ border-color: rgba(0,0,0,.10); }

    .toggle{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 6px;
      border-radius: 18px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.14);
      cursor:pointer;
      user-select:none;
      width: 100%;
    }
    html[data-theme="light"] .toggle{ background: rgba(0,0,0,.04); }

    .toggleKnob{
      position:absolute;
      top: 6px;
      bottom: 6px;
      left: 6px;
      width: calc((100% - 12px - 6px)/2);
      border-radius: 14px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.14);
      transition: transform .18s ease, background .18s ease;
      z-index:1;
    }
    html[data-theme="light"] .toggleKnob{
      background: rgba(255,255,255,.70);
      border-color: rgba(0,0,0,.10);
    }
    .toggle.on .toggleKnob{
      transform: translateX(100%);
      background: rgba(46,229,157,.10);
      border-color: rgba(46,229,157,.28);
    }

    .tOpt{
      flex:1;
      text-align:center;
      font-weight: 900;
      font-size: 12.5px;
      color: var(--muted);
      padding: 10px 8px;
      position:relative;
      z-index:2;
      min-width: 0;
    }
    .toggle.on .tOpt[data-ver="yes"]{ color: var(--text); }
    .toggle:not(.on) .tOpt[data-ver="all"]{ color: var(--text); }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    .card{
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border-radius: 28px;
      box-shadow: var(--shadow2);
      overflow:hidden;
      cursor:pointer;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      min-height: 170px;
      position:relative;
    }
    html[data-theme="light"] .card{
      background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.68));
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
    }
    html[data-theme="light"] .card:hover{
      border-color: rgba(0,0,0,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.74));
    }

    .banner{
      height: 52px;
      background: radial-gradient(240px 80px at 15% 30%, rgba(124,92,255,.55), transparent 65%),
                  radial-gradient(240px 90px at 85% 30%, rgba(0,209,255,.45), transparent 60%),
                  rgba(0,0,0,.10);
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    html[data-theme="light"] .banner{
      border-bottom-color: rgba(0,0,0,.08);
      background: radial-gradient(240px 80px at 15% 30%, rgba(124,92,255,.28), transparent 65%),
                  radial-gradient(240px 90px at 85% 30%, rgba(0,209,255,.22), transparent 60%),
                  rgba(0,0,0,.03);
    }

    .content{
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .titleRow{
      display:flex;
      gap:10px;
      align-items:flex-start;
      justify-content:space-between;
    }
    .titleRow h3{
      margin:0;
      font-size: 14.5px;
      line-height:1.35;
    }

    .fav{
      width: 34px; height: 34px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: var(--surface);
      display:grid;
      place-items:center;
      cursor:pointer;
      flex:0 0 auto;
    }
    .fav.active{
      background: rgba(255,77,109,.16);
      border-color: rgba(255,77,109,.35);
    }

    .meta{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items:center;
      color: var(--muted);
      font-size: 12.5px;
    }

    .badge{
      padding: 7px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: var(--surface);
      color: rgba(255,255,255,.82);
      font-size: 12px;
      display:inline-flex;
      gap:6px;
      align-items:center;
    }
    html[data-theme="light"] .badge{
      color: rgba(10,12,18,.82);
      border-color: rgba(0,0,0,.10);
      background: rgba(0,0,0,.03);
    }

    .badge.good{ border-color: rgba(46,229,157,.35); background: rgba(46,229,157,.10); }
    .badge.warn{ border-color: rgba(255,176,32,.35); background: rgba(255,176,32,.10); }
    .badge.bad{  border-color: rgba(255,77,109,.35); background: rgba(255,77,109,.10); }

    .price{
      margin-top: 2px;
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap: 10px;
    }
    .price b{ font-size: 16px; color: var(--text); }
    .price span{ color: var(--muted2); font-size: 12.5px; }

    .bottomNav{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 14px;
      width: min(640px, calc(100% - 24px));
      border-radius: 22px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.30);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      padding: 10px;
      display:flex;
      gap: 8px;
      z-index: 20;
    }
    html[data-theme="light"] .bottomNav{ background: rgba(255,255,255,.75); }

    .tab{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 18px;
      border: 1px solid transparent;
      color: var(--muted);
      cursor:pointer;
      user-select:none;
      transition: background .15s ease, color .15s ease, transform .15s ease, border-color .15s ease;
      font-weight: 900;
      font-size: 12.5px;
      min-width: 0;
    }
    .tab:hover{ transform: translateY(-1px); }
    .tab.active{
      color: var(--text);
      background: linear-gradient(135deg, rgba(124,92,255,.18), rgba(0,209,255,.10));
      border-color: rgba(255,255,255,.14);
    }
    html[data-theme="light"] .tab.active{ border-color: rgba(0,0,0,.10); }
    .tab svg{ width: 16px; height:16px; opacity:.92; flex:0 0 auto; }

    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      z-index: 50;
    }
    .overlay.show{ display:block; }

    .drawer{
      position: fixed;
      right: 0;
      top: 0;
      height: 100%;
      width: min(520px, 94vw);
      background: linear-gradient(180deg, rgba(15,18,32,.88), rgba(10,12,22,.92));
      border-left: 1px solid rgba(255,255,255,.12);
      box-shadow: -20px 0 80px rgba(0,0,0,.55);
      transform: translateX(105%);
      transition: transform .22s ease;
      z-index: 60;
      display:flex;
      flex-direction:column;
      backdrop-filter: blur(14px);
    }
    html[data-theme="light"] .drawer{
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.80));
      border-left-color: rgba(0,0,0,.10);
      box-shadow: -20px 0 80px rgba(10,12,18,.16);
    }
    .drawer.show{ transform: translateX(0); }

    .drawerHead{
      padding: 14px;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    html[data-theme="light"] .drawerHead{ border-bottom-color: rgba(0,0,0,.08); }
    .drawerHead b{ font-size: 14px; }
    .drawerBody{
      padding: 14px;
      overflow:auto;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .detailHero{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.12);
      overflow:hidden;
      background: rgba(255,255,255,.04);
    }
    html[data-theme="light"] .detailHero{
      border-color: rgba(0,0,0,.10);
      background: rgba(0,0,0,.02);
    }
    .detailHero .banner{ height: 86px; }

    .kv{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .desc{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      border-radius: 22px;
      padding: 14px;
      color: var(--muted);
      line-height: 1.7;
      font-size: 13.5px;
    }
    html[data-theme="light"] .desc{
      border-color: rgba(0,0,0,.10);
      background: rgba(0,0,0,.02);
    }

    .ctaRow{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
    }
    .ctaRow .btn{ flex: 1 1 180px; justify-content:center; }

    .tiny{
      color: var(--muted2);
      font-size: 11.5px;
      line-height:1.55;
    }

    .toast{
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 96px;
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.9);
      padding: 10px 12px;
      border-radius: 14px;
      backdrop-filter: blur(12px);
      display:none;
      z-index: 80;
      box-shadow: var(--shadow2);
      font-size: 12.5px;
      max-width: calc(100% - 32px);
      text-align:center;
    }
    html[data-theme="light"] .toast{
      background: rgba(255,255,255,.85);
      border-color: rgba(0,0,0,.10);
      color: rgba(10,12,18,.92);
    }
    .toast.show{ display:block; }

    @media (max-width: 1100px){
      .catGrid{ grid-template-columns: repeat(3, 1fr); }
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 980px){
      .topbar{
        flex-wrap: wrap;
        align-items: stretch;
        gap: 10px;
      }
      .heroTitle{ font-size: 22px; }
      .search{ min-width: 100%; }
      .sliderBlock{ flex: 1 1 260px; min-width: 260px; }
    }
    @media (max-width: 620px){
      .catGrid{ grid-template-columns: repeat(2, 1fr); }
      .grid{ grid-template-columns: 1fr; }
      .heroCard{ padding: 14px; }
      .app{ padding: 16px 12px 130px; }

      .sliderBlock{ min-width: 100%; flex: 1 1 100%; }
      .bar{ padding: 12px; }
      .barLeft{ gap: 10px; }

      .bottomNav{ padding: 8px; gap: 6px; }
      .tab{ padding: 10px 10px; font-size: 12px; }
      .tab span.label{ display:none; }
    }

    @media (prefers-reduced-motion: reduce){
      .blob{ animation:none; }
      .card,.btn,.chip,.tab,.cat{ transition:none; }
      .segIndicator, .toggleKnob{ transition:none; }
    }
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M12 2C7.2 2 3.4 5.6 3.1 10.3c-.2 3.4 1.7 6.4 4.8 7.8.5.2 1-.2 1-.7V16c0-.4-.3-.8-.7-.9-1.4-.3-2.5-1.6-2.5-3.2 0-1.7 1.2-3.1 2.8-3.3.5-.1.9-.5.9-1V6.9c0-.5-.5-.9-1-.7C8.7 6.7 7.6 8.2 7.6 10c0 2.1 1.4 3.9 3.3 4.4V22c0 .6.5 1 1 1s1-.4 1-1v-7.6c1.9-.5 3.3-2.3 3.3-4.4 0-1.8-1.1-3.3-2.8-3.8-.5-.2-1 .2-1 .7v.7c0 .5.3.9.8 1.1 1 .4 1.7 1.3 1.7 2.4 0 1.6-1.1 2.9-2.5 3.2-.4.1-.7.5-.7.9v3.4c0 .5.5.9 1 .7 3.1-1.4 5-4.4 4.8-7.8C20.6 5.6 16.8 2 12 2Z" fill="currentColor" style="opacity:.92"/>
          </svg>
        </div>
        <div>
          <h1>‡¶™‡ßç‡¶∞‡¶¨‡¶æ‡¶∏ EU</h1>
          <small>‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø ‚Ä¢ ‡¶¨‡¶æ‡¶∏‡¶æ ‚Ä¢ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‚Ä¢ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‚Äî ‡¶è‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ‡ßá</small>
        </div>
      </div>
      <!-- Actions removed as requested -->
    </header>

    <section class="hero">
      <div class="heroCard">
        <div class="heroInner">
          <h2 class="heroTitle">‡¶á‡¶â‡¶∞‡ßã‡¶™‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <span style="color:var(--text)">‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶™‡ßç‡¶≤‡ßá‡¶∏</span></h2>
          <p class="heroSub">
            ‡¶è‡¶ï ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® ‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø, ‡¶¨‡¶æ‡¶∏‡¶æ ‡¶≠‡¶æ‡ßú‡¶æ, ‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶∞‡ßÅ‡¶Æ, ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‚Äî‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡•§
            <span style="color:var(--text);opacity:.9">Bangla-first UI</span> ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∏‡¶¨‡¶æ‡¶á ‡¶∏‡¶π‡¶ú‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
          </p>

          <div class="searchRow">
            <div class="search">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px;height:18px;opacity:.85">
                <path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M10.8 18.2a7.4 7.4 0 1 0 0-14.8 7.4 7.4 0 0 0 0 14.8Z" stroke="currentColor" stroke-width="2"/>
              </svg>
              <input id="q" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶∏ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶Æ, ‡¶¨‡¶æ‡¶∞‡ßç‡¶≤‡¶ø‡¶® ‡¶ï‡¶ø‡¶ö‡ßá‡¶® ‡¶π‡ßá‡¶≤‡¶™‡¶æ‡¶∞..." autocomplete="off" />
            </div>

            <button class="btn" id="btnNear" type="button">
              <svg viewBox="0 0 24 24" fill="none"><path d="M12 22s7-5.2 7-12a7 7 0 0 0-14 0c0 6.8 7 12 7 12Z" stroke="currentColor" stroke-width="2"/><path d="M12 10.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" stroke="currentColor" stroke-width="2"/></svg>
              ‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø
            </button>

            <button class="btn" id="btnReset" type="button">
              <svg viewBox="0 0 24 24" fill="none"><path d="M3 12a9 9 0 1 0 3-6.7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M3 4v5h5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
            </button>
          </div>

          <div class="chipRow" id="quickChips"></div>
        </div>
      </div>
    </section>

    <div class="sectionTitle">
      <div>
        <h2>‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø</h2>
        <p>‡¶è‡¶ï ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‚Äî‡¶Ø‡¶æ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</p>
      </div>
      <p class="hint">‡¶ü‡¶ø‡¶™: ‚Äú‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶¨‡¶æ‡¶∏‡¶æ‚Äù ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</p>
    </div>

    <section class="catGrid" id="catGrid"></section>

    <div class="sectionTitle">
      <div>
        <h2 id="listTitle">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶™‡ßã‡¶∏‡ßç‡¶ü</h2>
        <p id="listSubtitle">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö/‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá</p>
      </div>
      <p class="hint" id="resultCount">‚Äî</p>
    </div>

    <div class="bar">
      <div class="barLeft">
        <div class="sliderBlock">
          <div class="sliderLabel">‡¶¶‡ßá‡¶∂</div>
          <div class="pillRail" id="countryRail" aria-label="‡¶¶‡ßá‡¶∂ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®"></div>
        </div>

        <div class="sliderBlock">
          <div class="sliderLabel">‡¶∏‡ßã‡¶∞‡ßç‡¶ü</div>
          <div class="seg" id="sortSeg" role="tablist" aria-label="‡¶∏‡ßã‡¶∞‡ßç‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®">
            <div class="segIndicator" id="sortIndicator"></div>
            <button class="segBtn" data-sort="new" role="tab" aria-selected="true" type="button">‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶ó‡ßá</button>
            <button class="segBtn" data-sort="price_low" role="tab" aria-selected="false" type="button">‡¶¶‡¶æ‡¶Æ ‡¶ï‡¶Æ</button>
            <button class="segBtn" data-sort="price_high" role="tab" aria-selected="false" type="button">‡¶¶‡¶æ‡¶Æ ‡¶¨‡ßá‡¶∂‡¶ø</button>
          </div>
        </div>

        <div class="sliderBlock">
          <div class="sliderLabel">‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°</div>
          <div class="toggle" id="verToggle" role="switch" aria-checked="false" tabindex="0">
            <div class="toggleKnob" id="verKnob"></div>
            <span class="tOpt" data-ver="all">‡¶∏‡¶¨</span>
            <span class="tOpt" data-ver="yes">‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°</span>
          </div>
        </div>
      </div>

      <div class="hint">‡¶°‡ßá‡¶Æ‡ßã ‡¶°‡ßá‡¶ü‡¶æ ‚Ä¢ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</div>
    </div>

    <section class="grid" id="grid"></section>
  </div>

  <nav class="bottomNav" aria-label="Bottom navigation">
    <div class="tab active" data-tab="home">
      <svg viewBox="0 0 24 24" fill="none"><path d="M4 10.5 12 4l8 6.5V20a1 1 0 0 1-1 1h-5v-6H10v6H5a1 1 0 0 1-1-1v-9.5Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg>
      <span class="label">‡¶π‡ßã‡¶Æ</span>
    </div>
    <div class="tab" data-tab="search">
      <svg viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10.8 18.2a7.4 7.4 0 1 0 0-14.8 7.4 7.4 0 0 0 0 14.8Z" stroke="currentColor" stroke-width="2"/></svg>
      <span class="label">‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</span>
    </div>
    <div class="tab" data-tab="help">
      <svg viewBox="0 0 24 24" fill="none"><path d="M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10Z" stroke="currentColor" stroke-width="2"/><path d="M9.5 9a2.5 2.5 0 1 1 3.6 2.2c-.9.5-1.6 1.2-1.6 2.3V14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M12 17h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
      <span class="label">‡¶π‡ßá‡¶≤‡ßç‡¶™</span>
    </div>
  </nav>

  <div class="overlay" id="overlay"></div>
  <aside class="drawer" id="drawer" aria-label="Details drawer" role="dialog" aria-modal="true">
    <div class="drawerHead">
      <b id="drawerTitle">‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤</b>
      <button class="btn" id="btnClose" type="button">
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        ‡¶¨‡¶®‡ßç‡¶ß
      </button>
    </div>
    <div class="drawerBody" id="drawerBody"></div>
  </aside>

  <div class="toast" id="toast"></div>

  <script>
    // =========================================================
    // THEME (Dark/Light)
    // =========================================================
    const THEME_KEY = "prabash_theme";

    function applyTheme(mode){
      const root = document.documentElement;

      if(mode === "system"){
        root.removeAttribute("data-theme");
        const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
        root.setAttribute("data-theme", prefersLight ? "light" : "dark");
        root.setAttribute("data-theme-mode", "system");
      }else{
        root.setAttribute("data-theme", mode);
        root.setAttribute("data-theme-mode", mode);
      }

      const isLight = root.getAttribute("data-theme") === "light";
      const icon = document.getElementById("themeIcon");
      if(icon) icon.textContent = isLight ? "‚òÄÔ∏è" : "üåô";
    }

    function getInitialTheme(){
      const saved = localStorage.getItem(THEME_KEY);
      if(saved === "light" || saved === "dark" || saved === "system") return saved;
      return "system";
    }

    function toggleTheme(){
      const root = document.documentElement;
      const current = root.getAttribute("data-theme") || "dark";
      const next = (current === "light") ? "dark" : "light";
      localStorage.setItem(THEME_KEY, next);
      applyTheme(next);
      toast(next === "light" ? "‡¶≤‡¶æ‡¶á‡¶ü ‡¶Æ‡ßã‡¶°" : "‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶°");
    }

    const mq = window.matchMedia ? window.matchMedia("(prefers-color-scheme: light)") : null;
    if(mq){
      mq.addEventListener("change", ()=>{
        const saved = localStorage.getItem(THEME_KEY) || "system";
        if(saved === "system") applyTheme("system");
      });
    }

    // ===== Demo Data =====
    const CATEGORIES = [
      { id:"job",     name:"‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø",          sub:"‡¶ï‡¶ø‡¶ö‡ßá‡¶® ‚Ä¢ ‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞‡¶π‡¶æ‡¶â‡¶∏ ‚Ä¢ ‡¶ï‡ßá‡ßü‡¶æ‡¶∞", icon:"üíº" },
      { id:"rent",    name:"‡¶¨‡¶æ‡¶∏‡¶æ ‡¶≠‡¶æ‡ßú‡¶æ",       sub:"‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‚Ä¢ ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡¶ø‡¶ì ‚Ä¢ ‡¶´‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶≤‡¶ø", icon:"üè†" },
      { id:"share",   name:"‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶¨‡¶æ‡¶∏‡¶æ",    sub:"‡¶∞‡ßÅ‡¶Æ ‚Ä¢ ‡¶¨‡ßá‡¶° ‚Ä¢ ‡¶∏‡¶æ‡¶¨‡¶≤‡ßá‡¶ü", icon:"üõèÔ∏è" },
      { id:"delivery",name:"‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø",        sub:"‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‚Ä¢ ‡¶∂‡¶ø‡¶´‡¶ü ‚Ä¢ ‡¶ú‡ßã‡¶®", icon:"üõµ" },
      { id:"services",name:"‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏",        sub:"‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‚Ä¢ ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‚Ä¢ ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶ø‡¶Ç", icon:"üß∞" },
    ];

    const LISTINGS = [
      { id:"L001", cat:"job", title:"‡¶¨‡¶æ‡¶∞‡ßç‡¶≤‡¶ø‡¶®‡ßá ‡¶ï‡¶ø‡¶ö‡ßá‡¶® ‡¶π‡ßá‡¶≤‡¶™‡¶æ‡¶∞ (‡¶´‡ßÅ‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ) ‚Äî ‡¶§‡¶æ‡ßé‡¶ï‡ßç‡¶∑‡¶£‡¶ø‡¶ï ‡¶ú‡ßü‡ßá‡¶®", country:"DE", city:"Berlin", price:0, priceText:"‡¶¨‡ßá‡¶§‡¶® ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶∏‡¶æ‡¶™‡ßá‡¶ï‡ßç‡¶∑", verified:true, freshness:"‡¶Ü‡¶ú", when:"2026-02-26", tags:["‡¶ú‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶®‡¶ø","‡¶ï‡¶ø‡¶ö‡ßá‡¶®","‡¶´‡ßÅ‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ"], badge:{type:"good", text:"‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°"}, desc:"‡¶∞‡ßá‡¶∏‡ßç‡¶ü‡ßÅ‡¶∞‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶ø‡¶ö‡ßá‡¶® ‡¶π‡ßá‡¶≤‡¶™‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡•§ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶≠‡¶æ‡¶≤‡ßã, ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá‡¶ì ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡¶ø‡¶Ç‡•§" },
      { id:"L002", cat:"share", title:"‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶∏‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶Æ (‡ß® ‡¶ú‡¶®) ‚Äî ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶ï‡¶æ‡¶õ‡ßá", country:"FR", city:"Paris", price:320, priceText:"‚Ç¨320/‡¶Æ‡¶æ‡¶∏", verified:false, freshness:"‡¶ó‡¶§‡¶ï‡¶æ‡¶≤", when:"2026-02-25", tags:["‡¶´‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏","‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç","‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã"], badge:{type:"warn", text:"‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶®"}, desc:"‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞-‡¶™‡¶∞‡¶ø‡¶ö‡ßç‡¶õ‡¶®‡ßç‡¶® ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶Æ‡•§ ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ‡•§ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶®‡•§" },
      { id:"L003", cat:"rent", title:"‡¶Æ‡¶ø‡¶≤‡¶æ‡¶®‡ßá ‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡¶ø‡¶ì ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‡¶≠‡¶æ‡ßú‡¶æ ‚Äî ‡ßß ‡¶ú‡¶®/‡¶ï‡¶æ‡¶™‡¶≤", country:"IT", city:"Milan", price:780, priceText:"‚Ç¨780/‡¶Æ‡¶æ‡¶∏", verified:true, freshness:"‡ß® ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá", when:"2026-02-24", tags:["‡¶á‡¶§‡¶æ‡¶≤‡¶ø","‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡¶ø‡¶ì","‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶≤"], badge:{type:"good", text:"‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°"}, desc:"‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡¶ø‡¶ì ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü, ‡¶ï‡¶ø‡¶ö‡ßá‡¶®‡ßá‡¶ü, ‡¶ì‡ßü‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü/‡¶ï‡¶æ‡¶ó‡¶ú‡¶™‡¶§‡ßç‡¶∞ ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá‡•§" },
      { id:"L005", cat:"services", title:"‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶≤‡ßá‡¶∂‡¶® (BN‚ÜîEN) + ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø", country:"NL", city:"Amsterdam", price:25, priceText:"‚Ç¨25 ‡¶•‡ßá‡¶ï‡ßá", verified:true, freshness:"‡¶è‡¶á ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π‡ßá", when:"2026-02-22", tags:["‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏","‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶","‡¶®‡ßá‡¶¶‡¶æ‡¶∞‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶∏"], badge:{type:"good", text:"‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°"}, desc:"CV/‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶≤‡ßá‡¶ü‡¶æ‡¶∞, ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡•§ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶π‡¶≤‡ßá ‡¶¨‡ßÅ‡¶ï‡¶ø‡¶Ç ‡¶ó‡¶æ‡¶á‡¶°‡•§" },
      { id:"L006", cat:"delivery", title:"‡¶Æ‡¶æ‡¶¶‡ßç‡¶∞‡¶ø‡¶¶‡ßá ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‚Äî ‡¶™‡¶æ‡¶∞‡ßç‡¶ü-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶∂‡¶ø‡¶´‡¶ü", country:"ES", city:"Madrid", price:0, priceText:"‡¶á‡¶®‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶ø‡¶≠ ‡¶∏‡¶π", verified:false, freshness:"‡¶Ü‡¶ú", when:"2026-02-26", tags:["‡¶∏‡ßç‡¶™‡ßá‡¶®","‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞","‡¶™‡¶æ‡¶∞‡ßç‡¶ü-‡¶ü‡¶æ‡¶á‡¶Æ"], badge:{type:"warn", text:"‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"}, desc:"‡¶®‡¶ø‡¶ú‡¶∏‡ßç‡¶¨ ‡¶¨‡¶æ‡¶á‡¶ï/‡¶∏‡ßç‡¶ï‡ßÅ‡¶ü‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§ ‡¶ú‡ßã‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶∂‡¶ø‡¶´‡¶ü‡•§" },
      { id:"L007", cat:"share", title:"‡¶∏‡ßç‡¶ü‡¶ï‡¶π‡ßã‡¶Æ‡ßá ‡¶¨‡ßá‡¶° ‡¶∏‡ßç‡¶™‡ßá‡¶∏ (‡¶Æ‡ßá‡¶á‡¶≤) ‚Äî ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡ßÆ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü", country:"SE", city:"Stockholm", price:240, priceText:"‚Ç¨240/‡¶Æ‡¶æ‡¶∏", verified:true, freshness:"‡ß™ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá", when:"2026-02-22", tags:["‡¶∏‡ßÅ‡¶á‡¶°‡ßá‡¶®","‡¶¨‡ßá‡¶° ‡¶∏‡ßç‡¶™‡ßá‡¶∏","‡¶Æ‡ßá‡¶á‡¶≤"], badge:{type:"good", text:"‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°"}, desc:"‡¶∏‡ßá‡¶´ ‡¶è‡¶∞‡¶ø‡ßü‡¶æ, ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∏‡¶æ‡•§ ‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶ò‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§" },
      { id:"L008", cat:"job", title:"‡¶ì‡ßü‡¶æ‡¶∞‡¶∂‚Äô ‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞‡¶π‡¶æ‡¶â‡¶∏ ‡¶™‡¶ø‡¶ï‡¶æ‡¶∞/‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞ ‚Äî ‡¶®‡¶æ‡¶á‡¶ü ‡¶∂‡¶ø‡¶´‡¶ü", country:"PL", city:"Warsaw", price:0, priceText:"‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá", verified:false, freshness:"‡ß´ ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá", when:"2026-02-21", tags:["‡¶™‡ßã‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°","‡¶ì‡ßü‡¶æ‡¶∞‡¶π‡¶æ‡¶â‡¶∏","‡¶®‡¶æ‡¶á‡¶ü"], badge:{type:"warn", text:"‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶ø‡¶â ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá"}, desc:"‡¶ì‡ßü‡¶æ‡¶∞‡¶π‡¶æ‡¶â‡¶∏‡ßá ‡¶™‡¶ø‡¶ï‡¶æ‡¶∞/‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú‡•§ ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶Ç‡¶≤‡¶ø‡¶∂ ‡¶π‡¶≤‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡•§" },
      { id:"L009", cat:"rent", title:"‡¶∞‡¶ü‡¶æ‡¶∞‡¶°‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá ‡ß® ‡¶¨‡ßá‡¶°‡¶∞‡ßÅ‡¶Æ ‡¶´‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶≤‡¶ø ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‚Äî ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤ ‡¶ï‡¶æ‡¶õ‡ßá", country:"NL", city:"Rotterdam", price:1250, priceText:"‚Ç¨1250/‡¶Æ‡¶æ‡¶∏", verified:true, freshness:"‡ßß ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡¶Ü‡¶ó‡ßá", when:"2026-02-19", tags:["‡¶®‡ßá‡¶¶‡¶æ‡¶∞‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶∏","‡¶´‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶≤‡¶ø","‡ß® ‡¶¨‡ßá‡¶°"], badge:{type:"good", text:"‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°"}, desc:"‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡•§ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡ßç‡¶ü, ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü, ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡ßÅ‡¶´ ‡¶≤‡¶æ‡¶ó‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§" }
    ];

    const QUICK_CHIPS = [
      { key:"cat", value:"job", label:"‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø" },
      { key:"cat", value:"share", label:"‡¶∂‡ßá‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶∞‡ßÅ‡¶Æ" },
      { key:"cat", value:"rent", label:"‡¶¨‡¶æ‡¶∏‡¶æ ‡¶≠‡¶æ‡ßú‡¶æ" },
      { key:"cat", value:"delivery", label:"‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞" },
      { key:"verified", value:"yes", label:"‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°" },
      { key:"country", value:"FR", label:"‡¶´‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏" },
    ];

    const state = {
      q: "",
      cat: "all",
      country: "all",
      sort: "new",
      verified: "all",
      fav: new Set(),
      tab: "home"
    };

    const $ = (sel) => document.querySelector(sel);
    const el = (tag, attrs={}, children=[]) => {
      const n = document.createElement(tag);
      Object.entries(attrs).forEach(([k,v]) => {
        if(k === "class") n.className = v;
        else if(k === "html") n.innerHTML = v;
        else if(k.startsWith("on") && typeof v === "function") n.addEventListener(k.slice(2), v);
        else n.setAttribute(k, v);
      });
      children.forEach(c => n.appendChild(typeof c === "string" ? document.createTextNode(c) : c));
      return n;
    };

    function toast(msg){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._t);
      toast._t = setTimeout(()=>t.classList.remove("show"), 1900);
    }

    function fmtCountry(code){
      return ({DE:"‡¶ú‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶®‡¶ø", FR:"‡¶´‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏", IT:"‡¶á‡¶§‡¶æ‡¶≤‡¶ø", ES:"‡¶∏‡ßç‡¶™‡ßá‡¶®", NL:"‡¶®‡ßá‡¶¶‡¶æ‡¶∞‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶∏", SE:"‡¶∏‡ßÅ‡¶á‡¶°‡ßá‡¶®", PL:"‡¶™‡ßã‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°"})[code] || code;
    }

    function catName(id){
      const c = CATEGORIES.find(x=>x.id===id);
      return c ? c.name : "‚Äî";
    }

    function badgeClass(type){
      if(type==="good") return "badge good";
      if(type==="warn") return "badge warn";
      if(type==="bad")  return "badge bad";
      return "badge";
    }

    function renderCountryRail(){
      const rail = $("#countryRail");
      if(!rail) return;
      rail.innerHTML = "";

      const countries = [
        { code:"all", label:"‡¶∏‡¶¨" },
        { code:"DE", label:"‡¶ú‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶®‡¶ø" },
        { code:"FR", label:"‡¶´‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏" },
        { code:"IT", label:"‡¶á‡¶§‡¶æ‡¶≤‡¶ø" },
        { code:"ES", label:"‡¶∏‡ßç‡¶™‡ßá‡¶®" },
        { code:"NL", label:"‡¶®‡ßá‡¶¶‡¶æ‡¶∞‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶∏" },
        { code:"SE", label:"‡¶∏‡ßÅ‡¶á‡¶°‡ßá‡¶®" },
        { code:"PL", label:"‡¶™‡ßã‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°" }
      ];

      countries.forEach(c=>{
        const b = document.createElement("button");
        b.type = "button";
        b.className = "pillBtn" + (state.country === c.code ? " active" : "");
        b.textContent = c.label;
        b.addEventListener("click", ()=>{
          state.country = c.code;
          renderCountryRail();
          renderAll();
          toast(`‡¶¶‡ßá‡¶∂: ${c.label}`);
        });
        rail.appendChild(b);
      });
    }

    function setSortUI(value){
      const seg = $("#sortSeg");
      const indicator = $("#sortIndicator");
      if(!seg || !indicator) return;

      const btns = [...seg.querySelectorAll(".segBtn")];
      btns.forEach((b)=>{
        const active = b.dataset.sort === value;
        b.classList.toggle("active", active);
        b.setAttribute("aria-selected", active ? "true" : "false");
      });
      const idx = Math.max(0, btns.findIndex(b=>b.dataset.sort===value));
      indicator.style.transform = `translateX(${idx * 100}%)`;
    }

    function bindSortSeg(){
      const seg = $("#sortSeg");
      if(!seg) return;
      seg.addEventListener("click", (e)=>{
        const btn = e.target.closest(".segBtn");
        if(!btn) return;
        state.sort = btn.dataset.sort;
        setSortUI(state.sort);
        renderAll();
      });
      setSortUI(state.sort);
    }

    function setVerifiedUI(){
      const t = $("#verToggle");
      if(!t) return;
      const on = state.verified === "yes";
      t.classList.toggle("on", on);
      t.setAttribute("aria-checked", on ? "true" : "false");
    }

    function bindVerifiedToggle(){
      const t = $("#verToggle");
      if(!t) return;

      const toggleIt = ()=>{
        state.verified = (state.verified === "yes") ? "all" : "yes";
        setVerifiedUI();
        renderAll();
        toast(state.verified === "yes" ? "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°" : "‡¶∏‡¶¨ ‡¶™‡ßã‡¶∏‡ßç‡¶ü");
      };

      t.addEventListener("click", (e)=>{
        const opt = e.target.closest(".tOpt");
        if(opt){
          state.verified = opt.dataset.ver;
          setVerifiedUI();
          renderAll();
          toast(state.verified === "yes" ? "‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°" : "‡¶∏‡¶¨ ‡¶™‡ßã‡¶∏‡ßç‡¶ü");
          return;
        }
        toggleIt();
      });

      t.addEventListener("keydown", (e)=>{
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          toggleIt();
        }
      });

      setVerifiedUI();
    }

    function renderCategories(){
      const root = $("#catGrid");
      root.innerHTML = "";

      const allCat = el("div",{class:"cat", role:"button", tabindex:"0"},[
        el("div",{class:"catIcon", html:"‚ú®"}),
        el("div",{class:"catText"},[
          el("b",{},["‡¶∏‡¶¨ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø"]),
          el("span",{},["‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá"])
        ])
      ]);
      allCat.addEventListener("click", ()=>{ state.cat="all"; syncChips(); renderAll(); toast("‡¶∏‡¶¨ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø"); });
      root.appendChild(allCat);

      CATEGORIES.forEach(c=>{
        const node = el("div",{class:"cat", role:"button", tabindex:"0"},[
          el("div",{class:"catIcon", html:c.icon}),
          el("div",{class:"catText"},[
            el("b",{},[c.name]),
            el("span",{},[c.sub])
          ])
        ]);
        node.addEventListener("click", ()=>{
          state.cat = c.id;
          syncChips();
          renderAll();
          toast(`${c.name} ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞`);
        });
        root.appendChild(node);
      });
    }

    function renderQuickChips(){
      const root = $("#quickChips");
      root.innerHTML = "";
      QUICK_CHIPS.forEach(ch=>{
        const node = el("div",{class:"chip", role:"button", tabindex:"0"},[ch.label]);
        node.addEventListener("click", ()=>{
          if(ch.key==="cat") state.cat = ch.value;
          if(ch.key==="country") state.country = ch.value;
          if(ch.key==="verified") state.verified = ch.value;
          syncChips();
          renderAll();
        });
        root.appendChild(node);
      });
      syncChips();
    }

    function syncChips(){
      const chips = [...document.querySelectorAll("#quickChips .chip")];
      chips.forEach((node, i)=>{
        const ch = QUICK_CHIPS[i];
        let on = false;
        if(ch.key==="cat" && state.cat===ch.value) on = true;
        if(ch.key==="country" && state.country===ch.value) on = true;
        if(ch.key==="verified" && state.verified===ch.value) on = true;
        node.classList.toggle("active", on);
      });
    }

    function getFiltered(){
      const q = state.q.trim().toLowerCase();
      let rows = LISTINGS.slice();

      if(state.cat !== "all") rows = rows.filter(r => r.cat === state.cat);
      if(state.country !== "all") rows = rows.filter(r => r.country === state.country);
      if(state.verified === "yes") rows = rows.filter(r => r.verified);

      if(q){
        rows = rows.filter(r=>{
          const hay = (r.title + " " + r.city + " " + fmtCountry(r.country) + " " + r.tags.join(" ")).toLowerCase();
          return hay.includes(q);
        });
      }

      if(state.sort === "new") rows.sort((a,b)=> (b.when||"").localeCompare(a.when||""));
      else if(state.sort === "price_low") rows.sort((a,b)=> (a.price??0) - (b.price??0));
      else if(state.sort === "price_high") rows.sort((a,b)=> (b.price??0) - (a.price??0));

      return rows;
    }

    function renderGrid(){
      const root = $("#grid");
      root.innerHTML = "";

      if(state.tab === "help"){
        root.appendChild(renderHelpCard());
        return;
      }

      const rows = getFiltered();
      const rc = $("#resultCount");
      if(rc) rc.textContent = `‡¶´‡¶≤‡¶æ‡¶´‡¶≤: ${rows.length}`;

      if(rows.length === 0){
        root.appendChild(el("div",{class:"desc"},[
          "‡¶ï‡ßã‡¶®‡ßã ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
        ]));
        return;
      }

      rows.forEach(r=>{
        const favBtn = el("div",{class:"fav", title:"‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü (‡¶≤‡ßã‡¶ï‡¶æ‡¶≤)"},[
          el("span",{html:"‚òÖ", style:"opacity:.9; font-size:14px;"})
        ]);
        favBtn.classList.toggle("active", state.fav.has(r.id));
        favBtn.addEventListener("click", (e)=>{
          e.stopPropagation();
          toggleFav(r.id);
        });

        const card = el("article",{class:"card", role:"button", tabindex:"0"},[
          el("div",{class:"banner"}),
          el("div",{class:"content"},[
            el("div",{class:"titleRow"},[
              el("div",{},[
                el("h3",{},[r.title]),
                el("div",{class:"meta"},[
                  el("span",{},[`üìç ${r.city}, ${fmtCountry(r.country)}`]),
                  el("span",{},[`‚è±Ô∏è ${r.freshness}`])
                ])
              ]),
              favBtn
            ]),
            el("div",{class:"meta"},[
              el("span",{class: badgeClass(r.badge?.type)},[
                el("span",{style:"opacity:.95"},[r.badge?.type==="good"?"‚úÖ":r.badge?.type==="bad"?"‚ö†Ô∏è":"‚ÑπÔ∏è"]),
                r.badge?.text || "‡¶®‡ßã‡¶ü"
              ]),
              el("span",{class:"badge"},[`üìå ${catName(r.cat)}`]),
              ...r.tags.slice(0,2).map(t=>el("span",{class:"badge"},[t]))
            ]),
            el("div",{class:"price"},[
              el("b",{},[r.priceText]),
              el("span",{},["‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‚Üí"])
            ])
          ])
        ]);

        card.addEventListener("click", ()=> openDrawer(r.id));
        root.appendChild(card);
      });
    }

    // HELP CARD now contains: Mode button + Post button (post below mode)
    function renderHelpCard(){
      const wrap = el("div",{class:"heroCard"});
      const inner = el("div",{class:"heroInner"},[
        el("h3",{style:"margin:0 0 10px; font-size:18px;"},["‡¶π‡ßá‡¶≤‡ßç‡¶™ & ‡¶∏‡ßá‡¶´‡¶ü‡¶ø"]),

        el("div",{class:"desc"},[
          el("b",{style:"color:var(--text)"},["‡ßß) ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®: "]),
          "‡¶Ø‡¶æ‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ‚Äî‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá ‚úÖ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§"
        ]),
        el("div",{class:"desc"},[
          el("b",{style:"color:var(--text)"},["‡ß®) ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶Ü‡¶ó‡ßá: "]),
          "‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶ï‡¶æ‡¶ó‡¶ú‡¶™‡¶§‡ßç‡¶∞ ‡¶Æ‡¶ø‡¶≤‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®, ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®/‡¶≠‡¶ø‡¶â‡¶á‡¶Ç ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
        ]),

        // Mode + Post (Post below Mode)
        el("div",{class:"ctaRow"},[
          el("button",{class:"btn", id:"btnThemeHelp", type:"button", onclick:()=>toggleTheme()},[
            el("span",{id:"themeIcon", html:"üåô"}), "‡¶Æ‡ßã‡¶°"
          ]),
          el("button",{class:"btn primary", id:"btnPostHelp", type:"button", onclick:()=>toast("‡¶°‡ßá‡¶Æ‡ßã: ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç/‡¶≤‡¶ó‡¶á‡¶® ‡¶®‡ßá‡¶á")},[
            el("span",{html:"‚ûï"}), "‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶¶‡¶ø‡¶®"
          ]),
        ]),

        el("div",{class:"ctaRow"},[
          el("button",{class:"btn primary", type:"button", onclick:()=>{ state.tab="home"; syncTabs(); renderAll(); }},[
            el("span",{html:"üè†"}),"‡¶π‡ßã‡¶Æ"
          ]),
          el("button",{class:"btn", type:"button", onclick:()=>toast("‡¶°‡ßá‡¶Æ‡ßã‡¶§‡ßá ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶®‡ßá‡¶á")},[
            el("span",{html:"üö©"}),"‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü (‡¶°‡ßá‡¶Æ‡ßã)"
          ])
        ]),

        el("div",{class:"tiny"},[
          "‡¶®‡ßã‡¶ü: ‡¶è‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶≠‡¶ø‡¶â-‡¶™‡ßç‡¶∞‡ßã‡¶ü‡ßã‡¶ü‡¶æ‡¶á‡¶™‡•§ ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶≤‡¶ó‡¶á‡¶®/‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®/‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶ø‡¶Ç ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá‡•§"
        ])
      ]);
      wrap.appendChild(inner);
      return wrap;
    }

    function toggleFav(id){
      if(state.fav.has(id)) state.fav.delete(id);
      else state.fav.add(id);
      renderGrid();
      toast(state.fav.has(id) ? "‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá" : "‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá");
    }

    function openDrawer(id){
      const r = LISTINGS.find(x=>x.id===id);
      if(!r) return;

      $("#drawerTitle").textContent = "‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤";
      const body = $("#drawerBody");
      body.innerHTML = "";

      const hero = el("div",{class:"detailHero"},[
        el("div",{class:"banner"}),
        el("div",{class:"content"},[
          el("div",{style:"display:flex; align-items:flex-start; justify-content:space-between; gap:10px;"},[
            el("div",{},[
              el("h3",{style:"margin:0; font-size:16px; line-height:1.35"},[r.title]),
              el("div",{class:"meta", style:"margin-top:8px;"},[
                el("span",{},[`üìç ${r.city}, ${fmtCountry(r.country)}`]),
                el("span",{},[`üóÇÔ∏è ${catName(r.cat)}`]),
                el("span",{},[`‚è±Ô∏è ${r.freshness}`]),
              ])
            ]),
            el("button",{class:"btn", type:"button", onclick:()=>toggleFav(r.id)},[
              el("span",{html: state.fav.has(r.id) ? "‚òÖ" : "‚òÜ"}), "‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü"
            ])
          ]),
          el("div",{class:"meta"},[
            el("span",{class: badgeClass(r.badge?.type)},[
              el("span",{style:"opacity:.95"},[r.badge?.type==="good"?"‚úÖ":r.badge?.type==="bad"?"‚ö†Ô∏è":"‚ÑπÔ∏è"]),
              r.badge?.text || "‡¶®‡ßã‡¶ü"
            ]),
            ...r.tags.map(t=>el("span",{class:"badge"},[t]))
          ]),
          el("div",{class:"price"},[
            el("b",{},[r.priceText]),
            el("span",{},[r.verified ? "‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶™‡ßã‡¶∏‡ßç‡¶ü" : "‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶° ‡¶®‡ßü"])
          ])
        ])
      ]);

      const kv = el("div",{class:"kv"},[
        el("div",{class:"desc"},[ el("b",{style:"color:var(--text)"},["‡¶¶‡ßá‡¶∂: "]), fmtCountry(r.country) ]),
        el("div",{class:"desc"},[ el("b",{style:"color:var(--text)"},["‡¶∏‡¶ø‡¶ü‡¶ø: "]), r.city ]),
        el("div",{class:"desc"},[ el("b",{style:"color:var(--text)"},["‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø: "]), catName(r.cat) ]),
        el("div",{class:"desc"},[ el("b",{style:"color:var(--text)"},["‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏: "]), (r.verified ? "‚úÖ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á‡¶°" : "‚ÑπÔ∏è ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£") ]),
      ]);

      const desc = el("div",{class:"desc"},[
        el("b",{style:"color:var(--text)"},["‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§: "]),
        r.desc
      ]);

      const cta = el("div",{class:"ctaRow"},[
        el("button",{class:"btn primary", type:"button", onclick:()=>toast("‡¶°‡ßá‡¶Æ‡ßã‡¶§‡ßá ‡¶ï‡¶≤/‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶®‡ßá‡¶á")},[ el("span",{html:"üìû"}),"‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶°‡ßá‡¶Æ‡ßã)" ]),
        el("button",{class:"btn", type:"button", onclick:()=>toast("‡¶°‡ßá‡¶Æ‡ßã‡¶§‡ßá ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶®‡ßá‡¶á")},[ el("span",{html:"üí¨"}),"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú (‡¶°‡ßá‡¶Æ‡ßã)" ]),
      ]);

      const foot = el("div",{class:"tiny"},[
        "‡¶∏‡ßá‡¶´‡¶ü‡¶ø: ‡¶Ü‡¶ó‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ/‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü/‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
      ]);

      body.appendChild(hero);
      body.appendChild(kv);
      body.appendChild(desc);
      body.appendChild(cta);
      body.appendChild(foot);

      $("#overlay").classList.add("show");
      $("#drawer").classList.add("show");
    }

    function closeDrawer(){
      $("#overlay").classList.remove("show");
      $("#drawer").classList.remove("show");
    }

    function syncTabs(){
      document.querySelectorAll(".tab").forEach(t=>{
        t.classList.toggle("active", t.dataset.tab === state.tab);
      });
      if(state.tab === "search"){
        $("#q").focus({preventScroll:true});
        toast("‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶Æ‡ßã‡¶°");
      }
    }

    function renderAll(){
      if(state.tab === "help"){
        $("#listTitle").textContent = "‡¶π‡ßá‡¶≤‡ßç‡¶™ & ‡¶∏‡ßá‡¶´‡¶ü‡¶ø";
        $("#listSubtitle").textContent = "‡¶∏‡ßá‡¶´ ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ü‡¶ø‡¶™‡¶∏ + ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®";
      } else {
        $("#listTitle").textContent = "‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶™‡ßã‡¶∏‡ßç‡¶ü";
        $("#listSubtitle").textContent = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö/‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá";
      }

      renderCountryRail();
      setSortUI(state.sort);
      setVerifiedUI();
      renderGrid();
      syncChips();

      // ensure theme icon in help reflects current mode
      const root = document.documentElement;
      const isLight = root.getAttribute("data-theme") === "light";
      const icon = document.getElementById("themeIcon");
      if(icon) icon.textContent = isLight ? "‚òÄÔ∏è" : "üåô";
    }

    function init(){
      const initial = getInitialTheme();
      applyTheme(initial);

      renderCategories();
      renderQuickChips();
      renderCountryRail();
      bindSortSeg();
      bindVerifiedToggle();

      $("#q").addEventListener("input", (e)=>{
        state.q = e.target.value;
        renderAll();
      });

      $("#btnReset").addEventListener("click", ()=>{
        state.q = "";
        state.cat = "all";
        state.country = "all";
        state.sort = "new";
        state.verified = "all";
        state.tab = "home";
        $("#q").value = "";
        syncTabs();
        renderAll();
        toast("‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®");
      });

      $("#btnNear").addEventListener("click", ()=> toast("‡¶°‡ßá‡¶Æ‡ßã: ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®/‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶®‡ßá‡¶á"));

      $("#overlay").addEventListener("click", closeDrawer);
      $("#btnClose").addEventListener("click", closeDrawer);
      window.addEventListener("keydown", (e)=>{ if(e.key==="Escape") closeDrawer(); });

      document.querySelectorAll(".tab").forEach(t=>{
        t.addEventListener("click", ()=>{
          state.tab = t.dataset.tab;
          syncTabs();
          renderAll();
        });
      });

      syncTabs();
      renderAll();
    }

    init();
  </script>
</body>
</html>
